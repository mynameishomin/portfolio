"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/getNotion";
exports.ids = ["pages/api/getNotion"];
exports.modules = {

/***/ "@notionhq/client":
/*!***********************************!*\
  !*** external "@notionhq/client" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("@notionhq/client");

/***/ }),

/***/ "(api)/./pages/api/getNotion.ts":
/*!********************************!*\
  !*** ./pages/api/getNotion.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _notionhq_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @notionhq/client */ \"@notionhq/client\");\n/* harmony import */ var _notionhq_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_notionhq_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_variable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/variable */ \"(api)/./utils/variable.ts\");\n\n\n\nconst notion = new _notionhq_client__WEBPACK_IMPORTED_MODULE_0__.Client({\n    auth: _utils_variable__WEBPACK_IMPORTED_MODULE_1__.notionApiKey\n});\nconst databaseIds = [\n    _utils_variable__WEBPACK_IMPORTED_MODULE_1__.budgetId,\n    _utils_variable__WEBPACK_IMPORTED_MODULE_1__.readingId,\n    _utils_variable__WEBPACK_IMPORTED_MODULE_1__.projectId,\n    _utils_variable__WEBPACK_IMPORTED_MODULE_1__.skillId\n];\nconst promises = databaseIds.map((id)=>{\n    if (id === _utils_variable__WEBPACK_IMPORTED_MODULE_1__.budgetId || id === _utils_variable__WEBPACK_IMPORTED_MODULE_1__.readingId) {\n        const date = new Date();\n        const notionData = notion.databases.query({\n            database_id: id,\n            filter: {\n                property: \"Date\",\n                date: {\n                    on_or_after: `${date.getFullYear()}-${date.getMonth() + 1 < 10 ? \"0\" + (date.getMonth() + 1) : date.getMonth() + 1}-01`\n                }\n            }\n        });\n        return notionData;\n    } else {\n        const notionData = notion.databases.query({\n            database_id: id\n        });\n        return notionData;\n    }\n});\nasync function handler(req, res) {\n    if (req.method === \"GET\") {\n        try {\n            const response = await Promise.all(promises);\n            const notionData = {};\n            const tableNames = [\n                \"budget\",\n                \"reading\",\n                \"project\",\n                \"skills\"\n            ];\n            tableNames.forEach((id, index)=>{\n                notionData[id] = response[index];\n            });\n            res.status(200).json(notionData);\n        } catch (error) {\n            console.error(error);\n            res.status(500).json({\n                message: \"Internal server error\"\n            });\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvZ2V0Tm90aW9uLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDMEM7QUFDTTtBQUMyQjtBQUUzRSxNQUFNTSxTQUFTLElBQUlOLG9EQUFNQSxDQUFDO0lBQUVPLE1BQU1OLHlEQUFZQTtBQUFDO0FBRS9DLE1BQU1PLGNBQWM7SUFBQ04scURBQVFBO0lBQUVDLHNEQUFTQTtJQUFFQyxzREFBU0E7SUFBRUMsb0RBQU9BO0NBQUM7QUFDN0QsTUFBTUksV0FBV0QsWUFBWUUsR0FBRyxDQUFDLENBQUNDLEtBQU87SUFDckMsSUFBSUEsT0FBT1QscURBQVFBLElBQUlTLE9BQU9SLHNEQUFTQSxFQUFFO1FBQ3JDLE1BQU1TLE9BQU8sSUFBSUM7UUFDakIsTUFBTUMsYUFBYVIsT0FBT1MsU0FBUyxDQUFDQyxLQUFLLENBQUM7WUFDdENDLGFBQWFOO1lBQ2JPLFFBQVE7Z0JBQ0pDLFVBQVU7Z0JBQ1ZQLE1BQU07b0JBQ0ZRLGFBQWEsQ0FBQyxFQUFFUixLQUFLUyxXQUFXLEdBQUcsQ0FBQyxFQUNoQ1QsS0FBS1UsUUFBUSxLQUFLLElBQUksS0FDaEIsTUFBT1YsQ0FBQUEsS0FBS1UsUUFBUSxLQUFLLEtBQ3pCVixLQUFLVSxRQUFRLEtBQUssQ0FBQyxDQUM1QixHQUFHLENBQUM7Z0JBQ1Q7WUFDSjtRQUNKO1FBRUEsT0FBT1I7SUFDWCxPQUFPO1FBQ0gsTUFBTUEsYUFBYVIsT0FBT1MsU0FBUyxDQUFDQyxLQUFLLENBQUM7WUFDdENDLGFBQWFOO1FBQ2pCO1FBRUEsT0FBT0c7SUFDWCxDQUFDO0FBQ0w7QUFFZSxlQUFlUyxRQUMxQkMsR0FBbUIsRUFDbkJDLEdBQW9CLEVBQ3RCO0lBQ0UsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLE9BQU87UUFDdEIsSUFBSTtZQUNBLE1BQU1DLFdBQVcsTUFBTUMsUUFBUUMsR0FBRyxDQUFDcEI7WUFJbkMsTUFBTUssYUFBMEIsQ0FBQztZQUNqQyxNQUFNZ0IsYUFBYTtnQkFBQztnQkFBVTtnQkFBVztnQkFBVzthQUFTO1lBQzdEQSxXQUFXQyxPQUFPLENBQUMsQ0FBQ3BCLElBQVlxQixRQUFVO2dCQUN0Q2xCLFVBQVUsQ0FBQ0gsR0FBRyxHQUFHZ0IsUUFBUSxDQUFDSyxNQUFNO1lBQ3BDO1lBQ0FQLElBQUlRLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNwQjtRQUN6QixFQUFFLE9BQU9xQixPQUFPO1lBQ1pDLFFBQVFELEtBQUssQ0FBQ0E7WUFDZFYsSUFBSVEsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUcsU0FBUztZQUF3QjtRQUM1RDtJQUNKLENBQUM7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1wb3J0Zm9saW8vLi9wYWdlcy9hcGkvZ2V0Tm90aW9uLnRzP2NmOGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSBcIm5leHRcIjtcclxuaW1wb3J0IHsgQ2xpZW50IH0gZnJvbSBcIkBub3Rpb25ocS9jbGllbnRcIjtcclxuaW1wb3J0IHsgbm90aW9uQXBpS2V5IH0gZnJvbSBcIkAvdXRpbHMvdmFyaWFibGVcIjtcclxuaW1wb3J0IHsgYnVkZ2V0SWQsIHJlYWRpbmdJZCwgcHJvamVjdElkLCBza2lsbElkIH0gZnJvbSBcIkAvdXRpbHMvdmFyaWFibGVcIjtcclxuXHJcbmNvbnN0IG5vdGlvbiA9IG5ldyBDbGllbnQoeyBhdXRoOiBub3Rpb25BcGlLZXkgfSk7XHJcblxyXG5jb25zdCBkYXRhYmFzZUlkcyA9IFtidWRnZXRJZCwgcmVhZGluZ0lkLCBwcm9qZWN0SWQsIHNraWxsSWRdO1xyXG5jb25zdCBwcm9taXNlcyA9IGRhdGFiYXNlSWRzLm1hcCgoaWQpID0+IHtcclxuICAgIGlmIChpZCA9PT0gYnVkZ2V0SWQgfHwgaWQgPT09IHJlYWRpbmdJZCkge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGNvbnN0IG5vdGlvbkRhdGEgPSBub3Rpb24uZGF0YWJhc2VzLnF1ZXJ5KHtcclxuICAgICAgICAgICAgZGF0YWJhc2VfaWQ6IGlkIGFzIHN0cmluZyxcclxuICAgICAgICAgICAgZmlsdGVyOiB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eTogXCJEYXRlXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25fb3JfYWZ0ZXI6IGAke2RhdGUuZ2V0RnVsbFllYXIoKX0tJHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZS5nZXRNb250aCgpICsgMSA8IDEwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiMFwiICsgKGRhdGUuZ2V0TW9udGgoKSArIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRhdGUuZ2V0TW9udGgoKSArIDFcclxuICAgICAgICAgICAgICAgICAgICB9LTAxYCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBub3Rpb25EYXRhO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBub3Rpb25EYXRhID0gbm90aW9uLmRhdGFiYXNlcy5xdWVyeSh7XHJcbiAgICAgICAgICAgIGRhdGFiYXNlX2lkOiBpZCBhcyBzdHJpbmcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBub3Rpb25EYXRhO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXHJcbiAgICByZXE6IE5leHRBcGlSZXF1ZXN0LFxyXG4gICAgcmVzOiBOZXh0QXBpUmVzcG9uc2VcclxuKSB7XHJcbiAgICBpZiAocmVxLm1ldGhvZCA9PT0gXCJHRVRcIikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xyXG4gICAgICAgICAgICBpbnRlcmZhY2UgSU5vdGlvbkRhdGEge1xyXG4gICAgICAgICAgICAgICAgW2tleTogc3RyaW5nXTogYW55O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG5vdGlvbkRhdGE6IElOb3Rpb25EYXRhID0ge307XHJcbiAgICAgICAgICAgIGNvbnN0IHRhYmxlTmFtZXMgPSBbXCJidWRnZXRcIiwgXCJyZWFkaW5nXCIsIFwicHJvamVjdFwiLCBcInNraWxsc1wiXTtcclxuICAgICAgICAgICAgdGFibGVOYW1lcy5mb3JFYWNoKChpZDogc3RyaW5nLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbm90aW9uRGF0YVtpZF0gPSByZXNwb25zZVtpbmRleF07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihub3Rpb25EYXRhKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkludGVybmFsIHNlcnZlciBlcnJvclwiIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsiQ2xpZW50Iiwibm90aW9uQXBpS2V5IiwiYnVkZ2V0SWQiLCJyZWFkaW5nSWQiLCJwcm9qZWN0SWQiLCJza2lsbElkIiwibm90aW9uIiwiYXV0aCIsImRhdGFiYXNlSWRzIiwicHJvbWlzZXMiLCJtYXAiLCJpZCIsImRhdGUiLCJEYXRlIiwibm90aW9uRGF0YSIsImRhdGFiYXNlcyIsInF1ZXJ5IiwiZGF0YWJhc2VfaWQiLCJmaWx0ZXIiLCJwcm9wZXJ0eSIsIm9uX29yX2FmdGVyIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJyZXNwb25zZSIsIlByb21pc2UiLCJhbGwiLCJ0YWJsZU5hbWVzIiwiZm9yRWFjaCIsImluZGV4Iiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/getNotion.ts\n");

/***/ }),

/***/ "(api)/./utils/variable.ts":
/*!***************************!*\
  !*** ./utils/variable.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"baseUrl\": () => (/* binding */ baseUrl),\n/* harmony export */   \"budgetId\": () => (/* binding */ budgetId),\n/* harmony export */   \"ghostApiKey\": () => (/* binding */ ghostApiKey),\n/* harmony export */   \"ghostUrl\": () => (/* binding */ ghostUrl),\n/* harmony export */   \"guestBookId\": () => (/* binding */ guestBookId),\n/* harmony export */   \"notionApiKey\": () => (/* binding */ notionApiKey),\n/* harmony export */   \"projectId\": () => (/* binding */ projectId),\n/* harmony export */   \"readingId\": () => (/* binding */ readingId),\n/* harmony export */   \"skillId\": () => (/* binding */ skillId)\n/* harmony export */ });\nconst notionApiKey = \"secret_cmuZifHPNQRnF7Jb6w4rjI9iwtDnxSMh4LemqzatItb\";\n// export const baseUrl = \"https://portfolio.mynameishomin.com\";\nconst baseUrl = \"http://localhost:3000\";\nconst ghostUrl = \"https://mynameishomin.com\";\nconst ghostApiKey = \"c816dde08851bb1887f22f14a8\";\nconst guestBookId = \"0173c6cdbe77488784fed915abf7c39a\";\nconst budgetId = \"a97362f8a349423489497e37c20a41bc\";\nconst readingId = \"5b82356cea1643ba81c9ec2d6945f7dc\";\nconst projectId = \"b69dbfc122e645e3b78c4ff90076a97b\";\nconst skillId = \"a57658a432794f7d9dca4fe30f832707\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy92YXJpYWJsZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBTyxNQUFNQSxlQUNULHFEQUFxRDtBQUN6RCxnRUFBZ0U7QUFDekQsTUFBTUMsVUFBVSx3QkFBd0I7QUFDeEMsTUFBTUMsV0FBVyw0QkFBNEI7QUFDN0MsTUFBTUMsY0FBYyw2QkFBNkI7QUFFakQsTUFBTUMsY0FBYyxtQ0FBbUM7QUFDdkQsTUFBTUMsV0FBVyxtQ0FBbUM7QUFDcEQsTUFBTUMsWUFBWSxtQ0FBbUM7QUFDckQsTUFBTUMsWUFBWSxtQ0FBbUM7QUFDckQsTUFBTUMsVUFBVSxtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LXBvcnRmb2xpby8uL3V0aWxzL3ZhcmlhYmxlLnRzPzBkMjEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IG5vdGlvbkFwaUtleSA9XHJcbiAgICBcInNlY3JldF9jbXVaaWZIUE5RUm5GN0piNnc0cmpJOWl3dERueFNNaDRMZW1xemF0SXRiXCI7XHJcbi8vIGV4cG9ydCBjb25zdCBiYXNlVXJsID0gXCJodHRwczovL3BvcnRmb2xpby5teW5hbWVpc2hvbWluLmNvbVwiO1xyXG5leHBvcnQgY29uc3QgYmFzZVVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwXCI7XHJcbmV4cG9ydCBjb25zdCBnaG9zdFVybCA9IFwiaHR0cHM6Ly9teW5hbWVpc2hvbWluLmNvbVwiO1xyXG5leHBvcnQgY29uc3QgZ2hvc3RBcGlLZXkgPSBcImM4MTZkZGUwODg1MWJiMTg4N2YyMmYxNGE4XCI7XHJcblxyXG5leHBvcnQgY29uc3QgZ3Vlc3RCb29rSWQgPSBcIjAxNzNjNmNkYmU3NzQ4ODc4NGZlZDkxNWFiZjdjMzlhXCI7XHJcbmV4cG9ydCBjb25zdCBidWRnZXRJZCA9IFwiYTk3MzYyZjhhMzQ5NDIzNDg5NDk3ZTM3YzIwYTQxYmNcIjtcclxuZXhwb3J0IGNvbnN0IHJlYWRpbmdJZCA9IFwiNWI4MjM1NmNlYTE2NDNiYTgxYzllYzJkNjk0NWY3ZGNcIjtcclxuZXhwb3J0IGNvbnN0IHByb2plY3RJZCA9IFwiYjY5ZGJmYzEyMmU2NDVlM2I3OGM0ZmY5MDA3NmE5N2JcIjtcclxuZXhwb3J0IGNvbnN0IHNraWxsSWQgPSBcImE1NzY1OGE0MzI3OTRmN2Q5ZGNhNGZlMzBmODMyNzA3XCI7XHJcbiJdLCJuYW1lcyI6WyJub3Rpb25BcGlLZXkiLCJiYXNlVXJsIiwiZ2hvc3RVcmwiLCJnaG9zdEFwaUtleSIsImd1ZXN0Qm9va0lkIiwiYnVkZ2V0SWQiLCJyZWFkaW5nSWQiLCJwcm9qZWN0SWQiLCJza2lsbElkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./utils/variable.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/getNotion.ts"));
module.exports = __webpack_exports__;

})();